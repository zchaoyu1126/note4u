---
title: 云计算与云原生基本概念
abbrlink: 6328194b
date: 2023-01-12 09:55:22
tags:
hide: true
categories: Cloud Native
cover: http://img.note4u.top/base/cnnotes_cover.jpg
---

## 云计算的由来
> 引号部分内容摘自[链接](https://www.isolves.com/hlw/yjs/2021-07-19/41748.html)

“云计算的概念最先由戴尔公司于1996年提出。2006年，亚马逊公司率先推出了弹性计算云服务，随后越来越多的企业开始逐步接受云计算这一概念，并将应用逐步迁移到云端。”

云计算出现的主要原因是本地的基础设施无法满足要求，所以转向提供计算服务的云端平台。例如，某学生想使用GPU训练一个较大且复杂的深度学习模型，但自己的笔记本GPU无法满足其算力需求。但因使用频率不高，所以不想购入高配置的GPU，这时就会转向提供GPU算力服务的服务商，例如矩池云等。云计算的出现，让人们多了一种选择，可以选择租赁云端服务器而不是购买。


## 云计算到云原生
> 引号部分内容摘自[链接](https://www.isolves.com/hlw/yjs/2021-07-19/41748.html)

“在云计算之初，云端只是一个用于计算的场所，开发人员所要做的就是将原来在私有数据中心或IDC中的应用，迁移到云端。在迁移的过程中，应用无须重新编写，只需要重新部署，因为云平台提供的计算、存储、网络等，完全兼容应用迁移之前的计算环境。”

在云计算刚开始被应用的时候，只提供了计算、存储、网络等服务，即下文会提到的基础设施即服务IaaS(Infrastructure as a service)，说白了只是将应用迁移到云端，但没有对原来的技术进行升级，不能够很好地发挥云的特性。

为了适应这个新的开发环境，充分发挥其作用，必须**做出一些技术调整**。举一个最简单的例子，例如一个部署在云平台的应用，随着其不断地发展，日访问量逐渐增加，服务器压力不断增大，那么如何进行快速高效地扩容？如果想要充分地发挥云端开发环境的特性，仅靠云服务提供商或者云端应用开发者单边的努力是不够的，需要二者共同努力。
由此，**云原生**的概念被提出。云原生，即Cloud Native，可以理解为生来就是为了云端计算服务的，**是一种方法论，用于指导企业在云上构建应用程序；也用于指导云服务商更好地提供云端环境，供用户灵活使用。云原生，是对云计算的一种再升级。**

关于云原生的定义可参考CNCF的(最新解释)[链接](https://github.com/cncf/toc/blob/main/DEFINITION.md#%E4%B8%AD%E6%96%87%E7%89%88%E6%9C%AC)，内容如下：
“云原生技术有利于各组织在公有云、私有云和混合云等新型动态环境中，构建和运行**可弹性扩展**的应用。云原生的代表技术包括**容器**、**服务网格**、**微服务**、**不可变基础设施**和**声明式API**。

这些技术能够构建容错性好、易于管理和便于观察的松耦合系统。结合**可靠的自动化手段**，云原生技术使工程师能够轻松地对系统作出频繁和可预测的重大变更。”

## 云原生的代表技术

### 微服务

微服务是一种**分布式架构设计理念**，将单体应用中的功能抽象独立出来，作为一个服务。例如，可将一个网站应用的MySQL模块、Redis模块等单独抽离出来，运行在容器或单独的物理服务器之上。各个服务之间，不会互相影响。服务之间，通过网络交换数据。

### 容器
容器和虚拟机一样，是属于虚拟化技术的一种。
参考链接：[容器与虚拟机的区别](https://blog.csdn.net/kevin_tech/article/details/107194554)

容器使得应用服务能从底层架构中分离出来，实现了完全的可移植性，常作为微服务的载体。

需要注意的是，提到容器，需要知道容器技术并不仅仅只是 Docker 。

### 服务网格
服务网格（英文名：Service Mesh）是一个基础设施层，用于处理服务间的通信，云原生应用有着复杂的服务拓扑，服务网格负责在这些拓扑中实现请求的可靠传递，在实践中，服务网格通常实现为一组轻量级的网络代理，它们与应用程序部署在一起，但对应用程序透明。

Service Mesh 并不是指一项具体的技术，它是应用了某种技术（比如 [Sidecar](https://cloud.tencent.com/developer/article/1642964)）后呈现的形态。服务网格利用容器之间的网络设置来控制或改变应用程序中不同组件之间的交互。

### 不可变基础设施

关于不可变基础设施，找到一份详细的介绍，具体见[链接](https://zhuanlan.zhihu.com/p/382203966)或[link](https://www.digitalocean.com/community/tutorials/what-is-immutable-infrastructure)

不可变基础设施是在容器与云计算技术成熟之后才出现的。可变基础设施即物理服务器，而不可变基础设施则可能是由docker镜像启动的虚拟服务器。与前者的区别在于，"服务器可以被认为是一次性的。考虑放弃和替换物理服务器是不切实际的，但是使用虚拟服务器时，这不仅是可能的，而且是简单和高效的。"

### 声明式API

区别：声明式API，做什么，结果；命令式API，怎么做，过程

在k8s中，kube-apiserver 在响应命令式请求（比如，kubectl replace）的时候，一次只能处理一个写请求，否则会有产生冲突的可能。而对于声明式请求（比如，kubectl apply），一次能处理多个写操作，并且具备 Merge 能力，可提高系统的健壮性。

关于声明式API，更多的资料可参考：
- [Kubernetes 了解声明式 API](https://ghostwritten.blog.csdn.net/article/details/110170353)
- [为什么说声明式API比命令式API更优雅?](http://cn-sec.com/archives/773564.html)

## 云计算的类型

云计算是一种按照需求通过网络获取计算资源的形态。这些计算资源被包装成为服务，提供给用户。而提供这些服务的主体称之为云服务供应商（Cloud Service Provider）。依据提供服务的不同，可分为三类，即IaaS、PaaS、SaaS。

> 图片来源见水印

![20221024215024](http://img.note4u.top/article/20221024215024.png)

### 基础设施即服务IaaS(Infrastructure as a Service)

用户可以在云服务提供商提供的基础设施上部署和运行任何软件，包括操作系统和应用软件。用户没有权限管理和访问底层的基础设施，如服务器、交换机、硬盘等，但是有权管理操作系统、存储内容，可以安装管理应用程序，甚至是有权管理网络组件。简单的说用户使用IaaS，有权管理操作系统之上的一切功能。我们常见的IaaS服务有虚拟机、虚拟网络、以及存储。

### 平台即服务PaaS(Platform as a Service)

PaaS给用户提供的能力是使用由云服务提供商支持的编程语言、库、服务以及开发工具来创建、开发应用程序并部署在相关的基础设施上。用户无需管理底层的基础设施，包括网络、服务器，操作系统或者存储。他们只能控制部署在基础设施中操作系统上的应用程序，配置应用程序所托管的环境的可配置参数。常见的PaaS服务有数据库服务、web应用以及容器服务。成熟的PaaS服务会简化开发人员，提供完备的PC端和移动端软件开发套件（SDK），拥有丰富的开发环境（Inteli、Eclipse、VS等），完全可托管的数据库服务，可配置式的应用程序构建，支持多语言的开发，面向应用市场。

### 软件及服务SaaS(Software as a Service)

SaaS给用户提供的能力是使用在云基础架构上运行的云服务提供商的应用程序。可以通过轻量的客户端接口（诸如web浏览器（例如，基于web的电子邮件））或程序接口从各种客户端设备访问应用程序。 用户无需管理或控制底层云基础架构，包括网络，服务器，操作系统，存储甚至单独的应用程序功能，可能的例外是有限的用户特定应用程序配置设置。类似的服务有：各类的网盘(Dropbox、百度网盘等)，JIRA，GitLab等服务。而这些应用的提供者不仅仅是云服务提供商，还有众多的第三方提供商（ISV: independent software provider）。

## 云计算的部署形式

- 私有云（Private Cloud / On Premise）: 私有云是专为单个组织运营的云基础架构，完全自主管理。简单的讲，私有云就是通过自建或者租用场地的形式建立服务器机房或者数据中心。服务是面向私有网络或者VPN专有网络。企业拥有对服务器、数据硬盘的完全控制。因此安全性最高，当然费用也是最高的。

- 公有云（Public Cloud）：公有云服务面向公共网络的所有用户，由云服务提供商运营管理，由于网络对外公布，因此安全性较差。常见的公有云有AWS，Microsoft Azure，阿里云等，当然费用也是最便宜的。

- 混合云（Hybrid Cloud）：混合云是两个或多个云（私有云，公共云）的组合，它们保持不同的实体但绑定在一起，提供多个部署模型的好处。 混合云还意味着能够使用云资源连接搭配，托管和/或专用服务。混合云即有公有云的费用便宜实惠也有私有云的安全。

## 云计算与分布式计算

云计算和分布式计算，其实是两个不同方面的描述。

分布式计算是将在不同物理区域的计算资源组织整合起来进行计算，与集中式计算中心相对应；而云计算是借助于云上的计算资源进行计算，云上的计算可以是一个分布式计算系统，也可以是一个集中式的计算中心。

此外，云计算（存储）可以是分布式（存储）的上层服务。

## 参考资料

https://www.isolves.com/hlw/yjs/2021-07-19/41748.html
https://zhuanlan.zhihu.com/p/512427288
https://github.com/cncf/toc/blob/main/DEFINITION.md#%E4%B8%AD%E6%96%87%E7%89%88%E6%9C%AC
https://www.digitalocean.com/community/tutorials/what-is-immutable-infrastructure
http://cn-sec.com/archives/773564.html
https://www.codenong.com/cs106770299/
https://ghostwritten.blog.csdn.net/article/details/110170353
https://zhuanlan.zhihu.com/p/452558857